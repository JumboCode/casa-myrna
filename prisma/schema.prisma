datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider        = "prisma-client-js"
}

enum Status {
  PENDING
  ACCEPTED
  CANCELLED
}

// Represents On Call shifts
model primaryShift {
  primaryShiftID       Int    @id @default(autoincrement()) 
  userID               Int
  onCallShiftID        Int    
  date                 DateTime
  from                 DateTime
  to                   DateTime
  status               Status  @default(PENDING)
  firstName            String
  lastName             String
  message              String
  phoneLine            Int
  created_at           DateTime
  onCallShift  onCallShift   @relation("onCallShift", fields: [onCallShiftID], references: [onCallShiftID]) 
}
 
model onCallShift {
  onCallShiftID        Int    @id @default(autoincrement()) 
  userID               Int
  primaryShifts        primaryShift[] @relation("onCallShift")
  date                 DateTime
  from                 DateTime
  to                   DateTime
  status               Status  @default(PENDING)
  message              String
  phoneLine            Int
  created_at           DateTime
}

